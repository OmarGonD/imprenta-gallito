{% extends 'base.html' %}
{% load static %}

{% block title %}Imprenta Gallito - Impresi√≥n de Alta Calidad en Per√∫{% endblock %}

{% block extra_css %}
<!-- Tailwind CSS CDN -->
<script src="https://cdn.tailwindcss.com"></script>
<script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    'gallito': {
                        50: '#fffbeb',
                        100: '#fef3c7',
                        200: '#fde68a',
                        300: '#fcd34d',
                        400: '#fbbf24',
                        500: '#f59e0b',
                        600: '#d97706',
                        700: '#b45309',
                        800: '#92400e',
                        900: '#78350f',
                    },
                }
            }
        }
    }
</script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Poppins:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
<style>
    body {
        font-family: 'Inter', sans-serif;
    }
    
    /* Animaciones */
    @keyframes fadeIn {
        from { 
            opacity: 0;
            transform: translateY(20px);
        }
        to { 
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    @keyframes slideIn {
        from {
            opacity: 0;
            transform: translateX(-30px);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }
    
    @keyframes float {
        0%, 100% {
            transform: translateY(0);
        }
        50% {
            transform: translateY(-10px);
        }
    }
    
    @keyframes shimmer {
        0% {
            background-position: -1000px 0;
        }
        100% {
            background-position: 1000px 0;
        }
    }
    
    .animate-fadeIn {
        animation: fadeIn 0.6s ease-out;
    }
    
    .animate-slideIn {
        animation: slideIn 0.6s ease-out;
    }
    
    .animate-float {
        animation: float 3s ease-in-out infinite;
    }
    
    /* Hero Slider */
    .hero-slider {
        position: relative;
        overflow: hidden;
    }
    
    .slide {
        display: none;
        animation: fadeIn 0.8s ease-in-out;
    }
    
    .slide.active {
        display: block;
    }
    
    /* Cards con efectos */
    .category-card {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .category-card:hover {
        transform: translateY(-8px) scale(1.02);
    }
    
    .category-card:hover .category-icon {
        transform: scale(1.15) rotate(5deg);
    }
    
    .product-card {
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .product-card:hover {
        transform: translateY(-12px);
    }
    
    .product-card:hover img {
        transform: scale(1.1);
    }
    
    .testimonial-card {
        transition: all 0.3s ease;
        backdrop-filter: blur(10px);
    }
    
    .testimonial-card:hover {
        transform: translateY(-5px) scale(1.02);
    }
    
    /* Scroll suave */
    .scroll-container {
        scrollbar-width: thin;
        scrollbar-color: #f59e0b #f1f1f1;
    }
    
    .scroll-container::-webkit-scrollbar {
        height: 8px;
    }
    
    .scroll-container::-webkit-scrollbar-track {
        background: linear-gradient(to right, #f1f1f1, #e5e5e5);
        border-radius: 10px;
    }
    
    .scroll-container::-webkit-scrollbar-thumb {
        background: linear-gradient(to right, #f59e0b, #d97706);
        border-radius: 10px;
    }
    
    .scroll-container::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(to right, #d97706, #b45309);
    }
    
    /* Gradientes personalizados */
    .gradient-text {
        background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }
    
    .glass-effect {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    /* Botones mejorados */
    .btn-gradient {
        background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        position: relative;
        overflow: hidden;
    }
    
    .btn-gradient::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
        transition: left 0.5s;
    }
    
    .btn-gradient:hover::before {
        left: 100%;
    }
    
    /* Badge animado */
    @keyframes pulse {
        0%, 100% {
            opacity: 1;
            transform: scale(1);
        }
        50% {
            opacity: 0.8;
            transform: scale(1.05);
        }
    }
    
    .badge-pulse {
        animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }
</style>
{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50">
    
    <!-- ==================== HERO SLIDER ==================== -->
    <section class="hero-slider relative overflow-hidden">
        <div class="absolute inset-0 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 opacity-90"></div>
        
        <!-- Animated background pattern -->
        <div class="absolute inset-0 opacity-10">
            <div class="absolute inset-0" style="background-image: radial-gradient(circle at 2px 2px, white 1px, transparent 0); background-size: 40px 40px;"></div>
        </div>
        
        <div class="max-w-7xl mx-auto relative z-10">
            {% for banner in hero_banners %}
            <div class="slide {% if forloop.first %}active{% endif %}" data-slide="{{ forloop.counter }}">
                <div class="flex flex-col md:flex-row items-center justify-between min-h-[600px] px-6 py-16 md:py-0">
                    <!-- Text Content -->
                    <div class="md:w-1/2 text-center md:text-left mb-8 md:mb-0 z-10 animate-slideIn">
                        <span class="inline-block bg-white/20 text-white text-sm font-bold px-4 py-2 rounded-full mb-4 glass-effect">
                            ‚ú® Lo mejor en impresi√≥n
                        </span>
                        <h1 class="font-display text-5xl md:text-6xl lg:text-7xl font-black text-white mb-6 leading-tight drop-shadow-lg">
                            {{ banner.title|default:"Impresi√≥n de" }}<br>
                            <span class="gradient-text bg-gradient-to-r from-yellow-200 to-orange-200 bg-clip-text text-transparent">
                                Alta Calidad
                            </span>
                        </h1>
                        <p class="text-xl md:text-2xl text-white/95 mb-10 max-w-lg drop-shadow-md">
                            {{ banner.subtitle|default:"Productos personalizados para tu negocio con los mejores precios del mercado" }}
                        </p>
                        <div class="flex flex-col sm:flex-row gap-4 justify-center md:justify-start">
                            <a href="{{ banner.cta_url|default:'#' }}" 
                               class="inline-flex items-center justify-center px-8 py-4 bg-white text-gray-900 font-bold rounded-2xl hover:bg-gray-100 transition-all duration-300 shadow-2xl hover:shadow-3xl transform hover:-translate-y-1 hover:scale-105">
                                {{ banner.cta_text|default:"Ver Productos" }}
                                <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                                </svg>
                            </a>
                            <a href="{% url 'shop:contactanos' %}" 
                               class="inline-flex items-center justify-center px-8 py-4 bg-transparent border-2 border-white text-white font-bold rounded-2xl hover:bg-white hover:text-gray-900 transition-all duration-300 shadow-lg">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                                </svg>
                                Contactar
                            </a>
                        </div>
                    </div>
                    <!-- Image -->
                    <div class="md:w-1/2 flex justify-center animate-float">
                        {% if banner.image %}
                        <img src="{{ banner.image }}" alt="{{ banner.title }}" 
                             class="max-h-[500px] object-contain drop-shadow-2xl">
                        {% else %}
                        <div class="w-full max-w-lg aspect-square bg-gradient-to-br from-white/10 to-white/5 rounded-3xl flex items-center justify-center backdrop-blur-sm border border-white/20">
                            <svg class="w-64 h-64 text-white/30" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                            </svg>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
            
            <!-- Slider Navigation Dots -->
            {% if hero_banners %}
            <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-3 z-20">
                {% for banner in hero_banners %}
                <button class="slider-dot w-3 h-3 rounded-full transition-all duration-300 {% if forloop.first %}bg-white w-8{% else %}bg-white/40 hover:bg-white/60{% endif %}" 
                        data-slide="{{ forloop.counter }}"></button>
                {% endfor %}
            </div>
            
            <!-- Slider Arrows -->
            <button class="slider-prev absolute left-6 top-1/2 -translate-y-1/2 p-4 bg-white/10 hover:bg-white/20 backdrop-blur-md rounded-2xl text-white transition-all duration-300 border border-white/20 hover:scale-110 z-20">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                </svg>
            </button>
            <button class="slider-next absolute right-6 top-1/2 -translate-y-1/2 p-4 bg-white/10 hover:bg-white/20 backdrop-blur-md rounded-2xl text-white transition-all duration-300 border border-white/20 hover:scale-110 z-20">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
            </button>
            {% endif %}
        </div>
        
        <!-- Wave divider -->
        <div class="absolute bottom-0 left-0 right-0">
            <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full">
                <path d="M0 120L60 110C120 100 240 80 360 70C480 60 600 60 720 65C840 70 960 80 1080 85C1200 90 1320 90 1380 90L1440 90V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0V120Z" fill="white"/>
            </svg>
        </div>
    </section>

    <!-- ==================== CATEGOR√çAS POPULARES ==================== -->
    <section class="py-20 px-4 bg-white relative">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-16 animate-fadeIn">
                <span class="inline-block bg-gradient-to-r from-blue-100 to-purple-100 text-blue-600 text-sm font-bold px-4 py-2 rounded-full mb-4">
                    üì¶ Nuestros Productos
                </span>
                <h2 class="font-display text-4xl md:text-5xl font-black text-gray-900 mb-4">
                    Categor√≠as <span class="gradient-text">Populares</span>
                </h2>
                <p class="text-gray-600 text-xl max-w-3xl mx-auto">
                    Explora nuestra amplia selecci√≥n de productos de impresi√≥n personalizados de la m√°s alta calidad
                </p>
            </div>
            
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6">
                {% for category in popular_categories %}
                <a href="{% url 'shop:category' category.slug %}" 
                   class="category-card group relative bg-white rounded-3xl p-6 text-center hover:shadow-2xl transition-all duration-300 border-2 border-gray-100 hover:border-blue-300 overflow-hidden">
                    <!-- Gradient overlay on hover -->
                    <div class="absolute inset-0 bg-gradient-to-br from-blue-500/5 to-purple-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-3xl"></div>
                    
                    <div class="relative z-10">
                        <div class="category-icon w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center transition-transform duration-300 shadow-lg group-hover:shadow-xl overflow-hidden">
                            {% if category.image_url %}
                            <img src="{{ category.image_url }}" alt="{{ category.name }}" class="w-full h-full object-cover">
                            {% else %}
                            <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                      d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                            </svg>
                            {% endif %}
                        </div>
                        <h3 class="font-bold text-gray-900 group-hover:text-blue-600 transition-colors duration-300 mb-1">
                            {{ category.name }}
                        </h3>
                        {% if category.product_count %}
                        <p class="text-sm text-gray-500">{{ category.product_count }} productos</p>
                        {% endif %}
                    </div>
                </a>
                {% empty %}
                {% for item in "123456"|make_list %}
                <div class="category-card bg-white rounded-3xl p-6 text-center border-2 border-gray-100">
                    <div class="w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-gray-200 to-gray-300 rounded-2xl flex items-center justify-center animate-pulse">
                        <svg class="w-10 h-10 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                  d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                        </svg>
                    </div>
                    <div class="h-4 bg-gray-200 rounded animate-pulse mb-2"></div>
                    <div class="h-3 bg-gray-100 rounded animate-pulse w-2/3 mx-auto"></div>
                </div>
                {% endfor %}
                {% endfor %}
            </div>
            
            <div class="text-center mt-12">
                <a href="{% url 'shop:home' %}" 
                   class="inline-flex items-center px-8 py-4 btn-gradient text-white font-bold rounded-2xl transition-all duration-300 shadow-lg hover:shadow-2xl transform hover:-translate-y-1">
                    Ver Todas las Categor√≠as
                    <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                    </svg>
                </a>
            </div>
        </div>
    </section>

    <!-- ==================== NUEVOS PRODUCTOS ==================== -->
    <section class="py-20 px-4 bg-gradient-to-b from-gray-50 to-white">
        <div class="max-w-7xl mx-auto">
            <div class="flex flex-col md:flex-row items-start md:items-center justify-between mb-12">
                <div class="mb-6 md:mb-0">
                    <span class="inline-block bg-gradient-to-r from-green-100 to-emerald-100 text-green-600 text-sm font-bold px-4 py-2 rounded-full mb-3">
                        üÜï Reci√©n Llegados
                    </span>
                    <h2 class="font-display text-4xl md:text-5xl font-black text-gray-900 mb-3">
                        Nuevos <span class="gradient-text">Productos</span>
                    </h2>
                    <p class="text-gray-600 text-lg">Lo m√°s reciente en nuestro cat√°logo</p>
                </div>
                <a href="{% url 'shop:home' %}" class="inline-flex items-center text-blue-600 hover:text-blue-700 font-bold text-lg group">
                    Ver todos
                    <svg class="w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                    </svg>
                </a>
            </div>
            
            <div class="scroll-container flex overflow-x-auto gap-6 pb-6 -mx-4 px-4 snap-x snap-mandatory">
                {% for product in new_products %}
                <div class="product-card flex-shrink-0 w-80 bg-white rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-500 overflow-hidden snap-start group">
                    <div class="relative overflow-hidden">
                        {% if product.base_image_url %}
                        <img src="{{ product.base_image_url }}" alt="{{ product.name }}" 
                             class="w-full h-56 object-cover transition-transform duration-500">
                        {% else %}
                        <div class="w-full h-56 bg-gradient-to-br from-blue-100 to-purple-100 flex items-center justify-center">
                            <svg class="w-20 h-20 text-blue-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" 
                                      d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                            </svg>
                        </div>
                        {% endif %}
                        <span class="absolute top-4 left-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white text-xs font-bold px-4 py-2 rounded-full shadow-lg badge-pulse">
                            NUEVO
                        </span>
                        <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                    </div>
                    <div class="p-6">
                        <span class="inline-block text-xs font-semibold text-blue-600 bg-blue-50 px-3 py-1 rounded-full mb-3">
                            {% if product.category %}{{ product.category.name }}{% else %}Producto{% endif %}
                        </span>
                        <h3 class="font-bold text-gray-900 mb-3 text-lg line-clamp-2 group-hover:text-blue-600 transition-colors">
                            {{ product.name }}
                        </h3>
                        <div class="flex items-center justify-between mt-4">
                            <div>
                                <p class="text-xs text-gray-500 mb-1">Desde</p>
                                <p class="text-2xl font-black bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">
                                    S/ {{ product.get_base_price|default:"--" }}
                                </p>
                            </div>
                            {% if product.category %}
                            <a href="{% url 'shop:product_detail' product.category.slug product.slug %}" 
                               class="p-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-2xl hover:from-blue-600 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-110">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                </svg>
                            </a>
                            {% endif %}
                        </div>
                    </div>
                </div>
                {% empty %}
                {% for i in "123456"|make_list %}
                <div class="product-card flex-shrink-0 w-80 bg-white rounded-3xl shadow-lg overflow-hidden">
                    <div class="w-full h-56 bg-gradient-to-br from-gray-200 to-gray-300 animate-pulse"></div>
                    <div class="p-6">
                        <div class="h-4 bg-gray-200 rounded animate-pulse mb-4"></div>
                        <div class="h-6 bg-gray-300 rounded animate-pulse mb-3 w-3/4"></div>
                        <div class="h-8 bg-gray-200 rounded animate-pulse w-1/2"></div>
                    </div>
                </div>
                {% endfor %}
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- ==================== OFERTAS ESPECIALES ==================== -->
    <section class="py-20 px-4 bg-gradient-to-r from-red-600 via-pink-600 to-purple-600 relative overflow-hidden">
        <!-- Animated background -->
        <div class="absolute inset-0 opacity-20">
            <div class="absolute inset-0" style="background-image: radial-gradient(circle at 2px 2px, white 1px, transparent 0); background-size: 50px 50px; animation: drift 20s linear infinite;">
            </div>
        </div>
        
        <div class="max-w-7xl mx-auto relative z-10">
            <div class="text-center mb-16">
                <span class="inline-flex items-center bg-white/20 backdrop-blur-sm text-white text-sm font-bold px-5 py-2 rounded-full mb-6 border border-white/30">
                    <svg class="w-5 h-5 mr-2 animate-pulse" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z"/>
                    </svg>
                    OFERTAS LIMITADAS
                </span>
                <h2 class="font-display text-4xl md:text-5xl font-black text-white mb-4">
                    Ofertas <span class="text-yellow-300">Especiales</span>
                </h2>
                <p class="text-white/95 text-xl max-w-3xl mx-auto">
                    Aprovecha nuestros descuentos exclusivos en productos seleccionados
                </p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                {% for product in special_offers %}
                <div class="bg-white rounded-3xl shadow-2xl overflow-hidden transform hover:-translate-y-4 transition-all duration-500 hover:shadow-3xl group">
                    <div class="relative overflow-hidden">
                        {% if product.base_image_url %}
                        <img src="{{ product.base_image_url }}" alt="{{ product.name }}" 
                             class="w-full h-48 object-cover group-hover:scale-110 transition-transform duration-500">
                        {% else %}
                        <div class="w-full h-48 bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center">
                            <svg class="w-16 h-16 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" 
                                      d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/>
                            </svg>
                        </div>
                        {% endif %}
                        <div class="absolute top-4 right-4 flex flex-col gap-2">
                            <span class="bg-gradient-to-r from-red-500 to-pink-500 text-white text-sm font-black px-4 py-2 rounded-full shadow-lg animate-pulse">
                                -20%
                            </span>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="font-bold text-gray-900 mb-3 text-lg line-clamp-2 group-hover:text-purple-600 transition-colors">
                            {{ product.name }}
                        </h3>
                        <div class="flex items-end gap-3 mb-4">
                            <span class="text-3xl font-black bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent">
                                S/ {{ product.get_base_price|default:"XX" }}
                            </span>
                            <span class="text-lg text-gray-400 line-through mb-1">S/ XX</span>
                        </div>
                        {% if product.category %}
                        <a href="{% url 'shop:product_detail' product.category.slug product.slug %}" 
                           class="block w-full text-center bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-2xl font-bold hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105">
                            Ver Oferta
                        </a>
                        {% else %}
                        <button class="block w-full text-center bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-2xl font-bold">
                            Ver Oferta
                        </button>
                        {% endif %}
                    </div>
                </div>
                {% empty %}
                {% for i in "1234"|make_list %}
                <div class="bg-white rounded-3xl shadow-2xl overflow-hidden">
                    <div class="w-full h-48 bg-gradient-to-br from-gray-200 to-gray-300 animate-pulse"></div>
                    <div class="p-6">
                        <div class="h-6 bg-gray-200 rounded animate-pulse mb-3"></div>
                        <div class="h-8 bg-gray-300 rounded animate-pulse mb-4 w-2/3"></div>
                        <div class="h-12 bg-gray-200 rounded-2xl animate-pulse"></div>
                    </div>
                </div>
                {% endfor %}
                {% endfor %}
            </div>
        </div>
        
        <style>
            @keyframes drift {
                from { transform: translateX(0); }
                to { transform: translateX(50px); }
            }
        </style>
    </section>

    <!-- ==================== TESTIMONIOS ==================== -->
    <section class="py-20 px-4 bg-white relative overflow-hidden">
        <div class="max-w-7xl mx-auto relative z-10">
            <div class="text-center mb-16">
                <span class="inline-block bg-gradient-to-r from-yellow-100 to-orange-100 text-orange-600 text-sm font-bold px-4 py-2 rounded-full mb-4">
                    ‚≠ê Testimonios
                </span>
                <h2 class="font-display text-4xl md:text-5xl font-black text-gray-900 mb-4">
                    Lo que dicen nuestros <span class="gradient-text">clientes</span>
                </h2>
                <p class="text-gray-600 text-xl max-w-3xl mx-auto">
                    Miles de negocios conf√≠an en nosotros para sus necesidades de impresi√≥n
                </p>
            </div>
            
            <div class="grid md:grid-cols-3 gap-8">
                {% for testimonial in testimonials %}
                <div class="testimonial-card bg-gradient-to-br from-white to-gray-50 rounded-3xl p-8 shadow-lg hover:shadow-2xl border border-gray-100">
                    <div class="flex items-center mb-6">
                        <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center text-white font-black text-xl shadow-lg">
                            {{ testimonial.avatar }}
                        </div>
                        <div class="ml-4">
                            <h4 class="font-bold text-gray-900 text-lg">{{ testimonial.name }}</h4>
                            <p class="text-sm text-gray-600">{{ testimonial.company }}</p>
                        </div>
                    </div>
                    
                    <div class="flex mb-4 gap-1">
                        {% for star in "12345"|make_list %}
                        <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                        </svg>
                        {% endfor %}
                    </div>
                    
                    <p class="text-gray-700 leading-relaxed italic">
                        "{{ testimonial.text }}"
                    </p>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- ==================== NEWSLETTER ==================== -->
    <section class="py-20 px-4 bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 relative overflow-hidden">
        <div class="absolute inset-0 opacity-10">
            <div class="absolute inset-0" style="background-image: radial-gradient(circle at 20% 50%, white 1px, transparent 0), radial-gradient(circle at 80% 80%, white 1px, transparent 0); background-size: 100px 100px;"></div>
        </div>
        
        <div class="max-w-4xl mx-auto text-center relative z-10">
            <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-3xl mb-8 shadow-2xl">
                <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                          d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                </svg>
            </div>
            
            <h2 class="font-display text-4xl md:text-5xl font-black text-white mb-4">
                √önete a nuestra <span class="gradient-text bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent">comunidad</span>
            </h2>
            <p class="text-gray-300 text-xl mb-10 max-w-2xl mx-auto">
                Recibe ofertas exclusivas, novedades y descuentos especiales directamente en tu correo
            </p>
            
            <form action="{% url 'marketing:email_signup_form' %}" method="POST" class="flex flex-col sm:flex-row gap-4 max-w-2xl mx-auto">
                {% csrf_token %}
                <input type="email" name="email" required
                       placeholder="Tu correo electr√≥nico"
                       class="flex-1 px-6 py-4 rounded-2xl bg-white/10 backdrop-blur-md border-2 border-white/20 text-white placeholder-gray-400 focus:outline-none focus:border-blue-400 focus:ring-4 focus:ring-blue-400/30 transition-all">
                <button type="submit" 
                        class="px-10 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold rounded-2xl hover:from-blue-600 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-2xl transform hover:scale-105">
                    Suscribirse
                </button>
            </form>
            
            <p class="text-gray-500 text-sm mt-6">
                Al suscribirte aceptas nuestra 
                <a href="{% url 'shop:legales_privacidad' %}" class="text-blue-400 hover:underline">Pol√≠tica de Privacidad</a>
            </p>
        </div>
    </section>

    <!-- ==================== BENEFICIOS ==================== -->
    <section class="py-16 px-4 bg-gradient-to-b from-white to-gray-50">
        <div class="max-w-7xl mx-auto">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
                <div class="text-center group">
                    <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-100 to-purple-100 text-blue-600 rounded-3xl mb-4 shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-110">
                        <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                  d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"/>
                        </svg>
                    </div>
                    <h3 class="font-bold text-gray-900 mb-2 text-lg">Env√≠o a Todo el Per√∫</h3>
                    <p class="text-sm text-gray-600">Entrega r√°pida y segura</p>
                </div>
                
                <div class="text-center group">
                    <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-green-100 to-emerald-100 text-green-600 rounded-3xl mb-4 shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-110">
                        <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                  d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"/>
                        </svg>
                    </div>
                    <h3 class="font-bold text-gray-900 mb-2 text-lg">Calidad Garantizada</h3>
                    <p class="text-sm text-gray-600">Productos de primera</p>
                </div>
                
                <div class="text-center group">
                    <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-100 to-red-100 text-orange-600 rounded-3xl mb-4 shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-110">
                        <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                  d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"/>
                        </svg>
                    </div>
                    <h3 class="font-bold text-gray-900 mb-2 text-lg">Soporte 24/7</h3>
                    <p class="text-sm text-gray-600">Siempre para ayudarte</p>
                </div>
                
                <div class="text-center group">
                    <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-purple-100 to-pink-100 text-purple-600 rounded-3xl mb-4 shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-110">
                        <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                  d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                        </svg>
                    </div>
                    <h3 class="font-bold text-gray-900 mb-2 text-lg">Pago Seguro</h3>
                    <p class="text-sm text-gray-600">Transacciones protegidas</p>
                </div>
            </div>
        </div>
    </section>

</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Hero Slider
    const slides = document.querySelectorAll('.slide');
    const dots = document.querySelectorAll('.slider-dot');
    const prevBtn = document.querySelector('.slider-prev');
    const nextBtn = document.querySelector('.slider-next');
    let currentSlide = 0;
    const slideCount = slides.length;
    
    if (slideCount > 0) {
        function showSlide(index) {
            slides.forEach((slide, i) => {
                slide.classList.remove('active');
                if (dots[i]) {
                    dots[i].classList.remove('bg-white', 'w-8');
                    dots[i].classList.add('bg-white/40');
                }
            });
            
            slides[index].classList.add('active');
            if (dots[index]) {
                dots[index].classList.add('bg-white', 'w-8');
                dots[index].classList.remove('bg-white/40');
            }
        }
        
        function nextSlide() {
            currentSlide = (currentSlide + 1) % slideCount;
            showSlide(currentSlide);
        }
        
        function prevSlide() {
            currentSlide = (currentSlide - 1 + slideCount) % slideCount;
            showSlide(currentSlide);
        }
        
        if (nextBtn) nextBtn.addEventListener('click', nextSlide);
        if (prevBtn) prevBtn.addEventListener('click', prevSlide);
        
        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                currentSlide = index;
                showSlide(currentSlide);
            });
        });
        
        // Auto-advance
        setInterval(nextSlide, 5000);
    }
    
    // Intersection Observer for animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -100px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    document.querySelectorAll('.category-card, .product-card, .testimonial-card').forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(20px)';
        el.style.transition = 'all 0.6s ease-out';
        observer.observe(el);
    });
});
</script>
{% endblock %}
