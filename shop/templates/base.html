{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="{% block metadescription %}{% block metadesciption %}Imprenta Gallito PerÃº{% endblock %}{% endblock %}">
    <meta name="google-site-verification" content="fGkwUY2RcijkVzB6DiwIuAToP1y5xw8ECXQQabRAOIM"/>
    <link href="https://fonts.googleapis.com/css?family=Bree+Serif" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Poppins:400,500,600,700&display=swap" rel="stylesheet">
    <link rel="shortcut icon" type="image/png" href="{% static 'img/gallito_favicon.png' %}"/>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="{% static 'css/fontawesome.min.css' %}">
    
    <!-- Custom CSS Files -->
    <link rel="stylesheet" href="{% static 'css/header.css' %}">
    <link rel="stylesheet" href="{% static 'css/navbar.css' %}">
    <link rel="stylesheet" href="{% static 'css/home.css' %}">
    <link rel="stylesheet" href="{% static 'css/products.css' %}">
    <link rel="stylesheet" href="{% static 'css/product-detail.css' %}">
    <link rel="stylesheet" href="{% static 'css/cart.css' %}">
    <link rel="stylesheet" href="{% static 'css/footer.css' %}">
    <link rel="stylesheet" href="{% static 'css/custom.css' %}">


    <script
            src="https://code.jquery.com/jquery-3.3.1.min.js"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
            crossorigin="anonymous"></script>

    <!-- HTMX for dynamic content loading -->
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    
    <script src="{% static 'js/footer.js' %}"></script>
    <script src="{% static 'js/size-quantity.js' %}"></script>

    <!-- Incluyendo Culqi Checkout -->
    <script src="https://checkout.culqi.com/js/v3"></script>
    <title>{% block title %}Imprenta Gallito{% endblock %}</title>
    
    {% block extra_css %}{% endblock %}

    <style>
        html, body {
            width: 100%;
            max-width: 100vw;
            overflow-x: hidden;
        }
        body, html {
            font-family: 'Libre Baskerville', Baskerville, 'Baskerville Old Face', 'Hoefler Text', Garamond, Times New Roman, serif !important;
        }
        .navbar,
        #main-hero-banner,
        .imprenta-gallito-title,
        #promotional-banner,
        .promo-banner,
        .my_header_bg_color,
        .my_header_categories {
            font-family: 'Bree Serif', serif !important;
        }
        /* Also ensure .imprenta-gallito-title uses its original font */
        .imprenta-gallito-title {
            font-family: 'Poppins', sans-serif !important;
        }
        /* Main section now occupies full width */
        .main-section {
            width: 100vw;
            max-width: 100vw;
            margin-left: 0;
            margin-right: 0;
            padding-left: 0;
            padding-right: 0;
        }
        @media (max-width: 1200px) {
            .main-section {
                width: 100vw;
                max-width: 100vw;
                padding-left: 0;
                padding-right: 0;
            }
        }
        @media (max-width: 767px) {
            .main-section {
                width: 100vw;
                max-width: 100vw;
                padding-left: 0;
                padding-right: 0;
            }
        }
    </style>

    {% block data_layer %}{% endblock %}
    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
            'gtm.start':
                new Date().getTime(), event: 'gtm.js'
        });
        var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';
        j.async = true;
        j.src =
            'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-TPXWL88');</script>
    <!-- End Google Tag Manager -->



</head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TPXWL88"
            height="0" width="0" style="display:none;visibility:hidden"></iframe>
</noscript>
<!-- End Google Tag Manager (noscript) -->

{% include 'header.html' %}

<div class="main-section">
{% block content %}
{% endblock %}
</div>

{% include 'footer.html' %}
<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>

<!-- Additional scripts -->
<script src="{% static 'js/footer.js' %}"></script>
<script src="{% static 'js/size-quantity.js' %}"></script>

<!-- Incluyendo Culqi Checkout -->
<script src="https://checkout.culqi.com/js/v3"></script>

<!-- Header Initialization Script -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize Bootstrap dropdowns
        var dropdownElementList = [].slice.call(document.querySelectorAll('.dropdown-toggle'))
        var dropdownList = dropdownElementList.map(function (dropdownToggleEl) {
            return new bootstrap.Dropdown(dropdownToggleEl)
        });

        // Cart count functionality
        function updateCartCount() {
            // You can implement cart count logic here
            const cartCount = document.querySelector('.cart-count');
            if (cartCount) {
                // Example: cartCount.textContent = getCartItemCount();
            }
        }

        // Initialize cart count
        updateCartCount();

        // Search form functionality
        const searchForm = document.querySelector('.search-form');
        if (searchForm) {
            searchForm.addEventListener('submit', function(e) {
                const searchInput = this.querySelector('.search-input');
                if (searchInput && searchInput.value.trim() === '') {
                    e.preventDefault();
                    searchInput.focus();
                }
            });
        }
    });
</script>

</body>
</html>
