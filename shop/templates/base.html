{% load static %}
{% load l10n %}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="{% block metadescription %}Imprenta Gallito Perú - Impresión de Alta Calidad{% endblock %}">
    <meta name="google-site-verification" content="fGkwUY2RcijkVzB6DiwIuAToP1y5xw8ECXQQabRAOIM"/>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Poppins:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="shortcut icon" type="image/png" href="{% static 'media/gallito_favicon.png' %}"/>

    <!-- Tailwind CSS CDN - CARGAR PRIMERO -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            important: true,
            theme: {
                extend: {
                    colors: {
                        'gallito': {
                            50: '#fffbeb',
                            100: '#fef3c7',
                            200: '#fde68a',
                            300: '#fcd34d',
                            400: '#fbbf24',
                            500: '#f59e0b',
                            600: '#d97706',
                            700: '#b45309',
                            800: '#92400e',
                            900: '#78350f',
                        },
                        'brand': {
                            primary: '#0066cc',
                            'primary-dark': '#004999',
                            secondary: '#e63946',
                            dark: '#1a1a2e',
                            green: '#008965',
                            'green-dark': '#007554',
                        }
                    },
                    fontFamily: {
                        'display': ['Poppins', 'sans-serif'],
                        'body': ['Inter', 'sans-serif'],
                    },
                    maxWidth: {
                        '8xl': '88rem',
                        '9xl': '96rem',
                        '10xl': '104rem',
                    },
                    screens: {
                        '3xl': '1920px',
                        '4xl': '2560px',
                    }
                }
            }
        }
    </script>

    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <!-- Bootstrap CSS - Solo Grid y utilidades básicas -->
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">

    <!-- CSS Unificado - Un solo archivo con estilos custom mínimos -->
    <link rel="stylesheet" href="{% static 'css/gallito-unified.css' %}">

    <!-- Estilos globales para ultrawide -->
    <style>
        /* Contenedor global para ultrawide - aplica a todas las páginas */
        .container-ultrawide {
            width: 100%;
            max-width: 96rem; /* 1536px */
            margin-left: auto;
            margin-right: auto;
            padding-left: 1rem;
            padding-right: 1rem;
        }
        
        @media (min-width: 640px) {
            .container-ultrawide {
                padding-left: 1.5rem;
                padding-right: 1.5rem;
            }
        }
        
        @media (min-width: 1024px) {
            .container-ultrawide {
                padding-left: 2rem;
                padding-right: 2rem;
            }
        }
        
        @media (min-width: 1280px) {
            .container-ultrawide {
                padding-left: 3rem;
                padding-right: 3rem;
            }
        }
        
        @media (min-width: 1920px) {
            .container-ultrawide {
                max-width: 104rem; /* 1664px para 3xl */
                padding-left: 4rem;
                padding-right: 4rem;
            }
        }
        
        @media (min-width: 2560px) {
            .container-ultrawide {
                max-width: 120rem; /* 1920px para 4xl */
                padding-left: 5rem;
                padding-right: 5rem;
            }
        }
        
        /* Override para .container de Bootstrap en pantallas grandes */
        @media (min-width: 1920px) {
            .container, .container-lg, .container-xl {
                max-width: 1600px !important;
            }
        }
        
        @media (min-width: 2560px) {
            .container, .container-lg, .container-xl {
                max-width: 2000px !important;
            }
        }
    </style>

    <!-- HTMX -->
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    
    <title>{% block title %}Imprenta Gallito{% endblock %}</title>
    
    {% block extra_css %}{% endblock %}

    {% block data_layer %}{% endblock %}
    
    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
        var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';
        j.async = true;
        j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-TPXWL88');</script>
</head>
<body class="font-body antialiased text-gray-900 bg-gray-50">
<!-- Google Tag Manager (noscript) -->
<noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TPXWL88"
            height="0" width="0" style="display:none;visibility:hidden"></iframe>
</noscript>

{% include 'header.html' %}

{% if messages %}
<div class="fixed top-24 right-4 z-50 w-full max-w-sm space-y-4">
    {% for message in messages %}
    <div class="alert bg-white border-l-4 {% if message.tags == 'error' %}border-red-500 text-red-700{% elif message.tags == 'success' %}border-green-500 text-green-700{% else %}border-blue-500 text-blue-700{% endif %} p-4 rounded shadow-lg flex items-start justify-between" role="alert">
        <div class="flex items-center">
            {% if message.tags == 'error' %}
            <i class="fas fa-exclamation-circle mr-2"></i>
            {% elif message.tags == 'success' %}
            <i class="fas fa-check-circle mr-2"></i>
            {% else %}
            <i class="fas fa-info-circle mr-2"></i>
            {% endif %}
            <p>{{ message }}</p>
        </div>
        <button type="button" class="text-gray-400 hover:text-gray-900 ml-4" onclick="this.parentElement.remove()">
            <i class="fas fa-times"></i>
        </button>
    </div>
    {% endfor %}
</div>
{% endif %}

<main class="min-h-screen">
    {% block content %}
    {% endblock %}
</main>

{% include 'footer.html' %}

<!-- Scripts -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"></script>
<script src="{% static 'js/footer.js' %}"></script>
<script src="{% static 'js/size-quantity.js' %}"></script>
<script src="https://checkout.culqi.com/js/v3"></script>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Initialize Bootstrap dropdowns
    var dropdownElementList = [].slice.call(document.querySelectorAll('.dropdown-toggle'))
    dropdownElementList.map(function (dropdownToggleEl) {
        return new bootstrap.Dropdown(dropdownToggleEl)
    });
});
</script>

{% block extra_js %}{% endblock %}

</body>
</html>
